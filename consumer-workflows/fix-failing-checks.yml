# Template workflow generated from examples/fix-failing-checks.yml.
# Copy this file into .github/workflows/ in your own repository and customize as needed.
# Do not edit this file in-place in this repo; instead, edit the source example and run: 
# npm run gen-workflows

# ======================================================================================
# Workflow: Fix Failing Checks
# ======================================================================================
# Usage:
#   - Triggers automatically when a specified workflow (e.g., "Continuous Integration") fails.
#   - Analyzes failure logs to determine the cause.
#
# Setup:
#   - Ensure WARP_API_KEY is set in Repository Secrets.
#   - Update the `workflow_run.workflows` list to match your CI workflow names.
#
# Expected Output:
#   - A new Pull Request containing the fix for the build or test failure.
#   - Comments on the original PR (if applicable) with a link to the fix.
#
# When to use:
#   - Use this to reduce downtime caused by broken builds or flaky tests.
# ======================================================================================
name: Fix Failing Checks
on:
  workflow_run:
    workflows: []
    types:
      - completed
jobs:
  fix_failure:
    uses: warpdotdev/warp-agent-action/.github/workflows/fix-failing-checks.yml@v1
    with:
      profile: ""
    secrets:
      WARP_API_KEY: ${{ secrets.WARP_API_KEY }}
